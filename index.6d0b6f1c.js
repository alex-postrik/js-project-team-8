function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("kyEFX").register(JSON.parse('{"5ZPII":"index.6d0b6f1c.js","7vuYB":"user.46aa6c43.png","axuN2":"github-mark.375550f9.png","eM9ss":"library.565c78ab.js"}'));var s=i("4Ktbk");s=i("4Ktbk");let r=[];async function a(e){const t=document.querySelector(".btn-add-queue");console.log(t);const o="movies in queue",n=await s.default.fetchFullInfoMovie(e);console.log(e);const i=localStorage.getItem(o),a=c(o);if(null===i)r.push(n),l(o,r),t.textContent="remove from queque";else if(null!==i)if(console.log(i.includes(e)),console.log(r.length),i.includes(e))if(1===r.length)localStorage.removeItem(o),r=[],t.textContent="add to queque";else{let n=a.map((e=>e.id)).indexOf(Number(e));console.log(n),a.splice(n,1),r=a,l(o,a),t.textContent="add to queque"}else r.push(n),l(o,r),t.textContent="remove from queque",console.log(r.length)}const c=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},l=(e,t)=>{try{const o=JSON.stringify(t);localStorage.setItem(e,o)}catch(e){console.error("Set state error: ",e.message)}};s=i("4Ktbk");function u(){document.querySelectorAll(".movies__trailer").forEach((e=>{e.addEventListener("click",(async e=>{e.preventDefault();const t=e.target.dataset.id,o=`https://www.youtube.com/watch?v=${(await s.default.fetchVideo(t)).key}`;window.open(o)}))}))}s=i("4Ktbk");let d=[];async function m(e){const t=document.querySelector(".btn-add-watched");console.log(t);const o="movies in watched",n=await s.default.fetchFullInfoMovie(e);console.log(e);const i=localStorage.getItem(o),r=v(o);if(null===i)d.push(n),h(o,d),t.textContent="remove from watched";else if(null!==i)if(console.log(i.includes(e)),console.log(d.length),i.includes(e))if(1===d.length)localStorage.removeItem(o),d=[],t.textContent="add to watched";else{let n=r.map((e=>e.id)).indexOf(Number(e));console.log(n),r.splice(n,1),d=r,h(o,r),t.textContent="add to watched"}else d.push(n),h(o,d),t.textContent="remove from watched",console.log(d.length)}const v=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},h=(e,t)=>{try{const o=JSON.stringify(t);localStorage.setItem(e,o)}catch(e){console.error("Set state error: ",e.message)}},p={modalContainer:document.querySelector(".modal-about-movie"),backdrop:document.querySelector(".backdrop"),openModal:document.querySelector(".movies__list")};if(p.openModal){p.openModal.addEventListener("click",(function(e){if(e.preventDefault(),e.target.closest(".movies__item")&&(window.addEventListener("keydown",b),p.backdrop)){p.backdrop.addEventListener("click",f),document.body.classList.add("show-modal-about-movie");const t=e.target.closest(".movies__item");!async function(e){try{const t="movies in queue",o=localStorage.getItem(t),n="movies in watched",i=localStorage.getItem(n),r=await s.default.fetchFullInfoMovie(e),c=`<button class="btn-modal-close-about-movie" data-close-modal="btn-modal-close-about-movie" type="button">\n            <svg class="icon-close" width="14" height="14" viewBox="0 0 16 16">\n                <path d="M1 1L15 15" stroke="black" stroke-width="2"/>\n                <path d="M1 15L15 1" stroke="black" stroke-width="2"/>\n            </svg>\n        </button>\n <img src="${r.posterPath}"\n            alt="images-movie" class="images-movie-modal">\n<div class="about-movie">\n<h1 class="name-movie">${r.title}</h1>\n            <div class="characteristics-container">\n                <ul class="characteristics-list">\n                    <li class="characteristics-element">\n                        <p class="characteristic-text">Vote / Votes </p>\n                    </li>\n                    <li class="characteristics-element">\n                        <p class="characteristic-text">Popularity</p>\n                    </li>\n                    <li class="characteristics-element">\n                        <p class="characteristic-text">Original Title</p>\n                    </li>\n                    <li class="characteristics-element">\n                        <p class="characteristic-text">Genre</p>\n                    </li>\n                </ul>\n                <ul class="characteristics-value-list">\n                    <li class="characteristics-value-element">\n                          <p class="characteristics-value-text"><span class="rating-movie">${r.voteAverage}</span class="characteristic-text"><span> / </span>${r.vote_count}\n                        </p>\n                    </li>\n                    <li class="characteristics-value-element">\n                        <p class="characteristics-value-text">${r.popularity}</p>\n                    </li>\n                    <li class="characteristics-value-element">\n                        <p class="characteristics-value-text">${r.original_title}</p>\n                    </li>\n                    <li class="characteristics-value-element">\n                        <p class="characteristics-value-text">${r.genres}</p>\n                    </li>\n                </ul>\n\n            </div>\n            <p class="about-text">About</p>\n            <p class="about-movie-text">${r.overview}\n            </p>\n <div class="btn-container">\n                <button class="btn-add-watched" type="button">add to Watched</button>\n                <button class="btn-add-queue" type="button">add to queue</button>\n            </div>\n            <button class="movies__trailer" type="button">Trailer</button>\n        </div>\n`;p.modalContainer.innerHTML=c;const l=document.querySelector(".btn-add-queue");o&&o.includes(e)&&(l.textContent="remove from queque"),l.addEventListener("click",(()=>a(e))),console.log(l.textContent);document.querySelector(".movies__trailer");u();const d=document.querySelector(".btn-add-watched");i&&i.includes(e)&&(d.textContent="remove from watched"),d.addEventListener("click",(()=>m(e))),console.log(d.textContent),document.querySelector(".btn-modal-close-about-movie").addEventListener("click",g)}catch(e){console.log(e)}}(t.dataset.movies)}}))}function g(){document.body.classList.remove("show-modal-about-movie"),p.backdrop.removeEventListener("click",f),window.removeEventListener("keydown",b)}function f(e){e.currentTarget===e.target&&g()}function b(e){"Escape"===e.code&&g()}let w=null,y=null;window.addEventListener("load",(function(){w=document.querySelector('button[data-id="watched-btn"]'),y=document.querySelector('button[data-id="queue-btn"]'),w&&y&&(w.addEventListener("click",(()=>{w.classList.add("header-movie-btn--active"),y.classList.remove("header-movie-btn--active")})),y.addEventListener("click",(()=>{y.classList.add("header-movie-btn--active"),w.classList.remove("header-movie-btn--active")})))}));const k={loader:document.querySelector(".spinner")};function L(){k.loader.classList.add("loader-hidden")}document.addEventListener("readystatechange",(function(){document.querySelector(".movies__img");void k.loader.classList.remove("loader-hidden"),"complete"===document.readyState&&setTimeout(L,1e3)})),i("4Ktbk");s=i("4Ktbk");var S=i("9YTuV"),x=i("2nhTy");const E=document.querySelector(".header-form__search"),_=document.querySelector(".container");E.addEventListener("submit",(async e=>{e.preventDefault();const t=document.querySelector(".header-form__input"),o=t.value.trim();if(o){s.default.searchQuery=o;try{const e=await s.default.fetchSearchMovies();if(0===e.length){if(!document.querySelector(".search-result-not-found")){const e=document.createElement("div");e.textContent="Search result not successful. Enter the correct movie name.",e.classList.add("search-result-not-found"),_.style.position="relative",e.style.position="absolute",e.style.top="-20px",e.style.left="-10px",E.insertAdjacentElement("beforeend",e)}t.addEventListener("input",(function(){0!==this.value.trim().length&&this.value.trim().toLowerCase()!==s.default.searchQuery.toLowerCase()||!document.querySelector(".search-result-not-found")||document.querySelector(".search-result-not-found").remove()}))}else s.default.resetPage(),(0,S.createMovieCardMarkup)(e),(0,x.renderPagination)(s.default.page,s.default.allPages,x.FOR_SEARCH),document.querySelector(".search-result-not-found")&&document.querySelector(".search-result-not-found").remove()}catch(e){console.log(e)}}})),i("9YTuV"),i("9YTuV"),i("2nhTy"),i("2nhTy");({el:document.querySelector(".scroll"),show(){this.el.classList.remove("scroll_hide")},hide(){this.el.classList.add("scroll_hide")},addEventListener(){window.addEventListener("scroll",(()=>{(window.scrollY||document.documentElement.scrollTop)>400?this.show():this.hide()})),document.querySelector(".scroll").onclick=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}}}).addEventListener();var q;q=new URL(i("kyEFX").resolve("7vuYB"),import.meta.url).toString();var I;I=new URL(i("kyEFX").resolve("axuN2"),import.meta.url).toString();const C=[{name:"Oleksandr",position:"Team-lead",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)},{name:"Oleksandr",position:"Scram",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)},{name:"Yuliia",position:"Developer",gitHub:"https://github.com/YuliiaNivina",previewImg:e(q),svg:e(I)},{name:"Alina",position:"Developer",gitHub:"https://github.com/alinarieznik",previewImg:e(q),svg:e(I)},{name:"Denis",position:"Developer",gitHub:"https://github.com/denis-bw",previewImg:e(q),svg:e(I)},{name:"Igor",position:"Developer",gitHub:"https://github.com/IgorPetrenko72",previewImg:e(q),svg:e(I)},{name:"Mariia",position:"Developer",gitHub:"https://github.com/Mariia848912",previewImg:e(q),svg:e(I)},{name:"Krystyna",position:"Developer",gitHub:"https://github.com/KristinaShepeleva",previewImg:e(q),svg:e(I)},{name:"Oleksandr",position:"Developer",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)},{name:"Anton",position:"Developer",gitHub:"https://github.com/Anton-Yarema",previewImg:e(q),svg:e(I)},{name:"Oleksandr",position:"Developer",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)},{name:"Oleksandr",position:"Developer",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)},{name:"Oleksandr",position:"Developer",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)},{name:"Anastasiia",position:"Developer",gitHub:"https://github.com/nastyamara",previewImg:e(q),svg:e(I)},{name:"Oleksandr",position:"Developer",gitHub:"https://github.com/alex-postrik",previewImg:e(q),svg:e(I)}];var D={};D=function e(t,o,n){function i(r,a){if(!o[r]){if(!t[r]){var c=void 0;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[r]={exports:{}};t[r][0].call(u.exports,(function(e){return i(t[r][1][e]||e)}),u,u.exports,e,t,o,n)}return o[r].exports}for(var s=void 0,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.create=o.visible=void 0;var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=document.createElement("div");return o.innerHTML=e.trim(),!0===t?o.children:o.firstChild},i=function(e,t){var o=e.children;return 1===o.length&&o[0].tagName===t},s=function(e){return null!=(e=e||document.querySelector(".basicLightbox"))&&!0===e.ownerDocument.body.contains(e)};o.visible=s,o.create=function(e,t){var o=function(e,t){var o=n('\n\t\t<div class="basicLightbox '.concat(t.className,'">\n\t\t\t<div class="basicLightbox__placeholder" role="dialog"></div>\n\t\t</div>\n\t')),s=o.querySelector(".basicLightbox__placeholder");e.forEach((function(e){return s.appendChild(e)}));var r=i(s,"IMG"),a=i(s,"VIDEO"),c=i(s,"IFRAME");return!0===r&&o.classList.add("basicLightbox--img"),!0===a&&o.classList.add("basicLightbox--video"),!0===c&&o.classList.add("basicLightbox--iframe"),o}(e=function(e){var t="string"==typeof e,o=e instanceof HTMLElement==1;if(!1===t&&!1===o)throw new Error("Content must be a DOM element/node or string");return!0===t?Array.from(n(e,!0)):"TEMPLATE"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=""),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),"boolean"!=typeof e.closable)throw new Error("Property `closable` must be a boolean");if("string"!=typeof e.className)throw new Error("Property `className` must be a string");if("function"!=typeof e.onShow)throw new Error("Property `onShow` must be a function");if("function"!=typeof e.onClose)throw new Error("Property `onClose` must be a function");return e}(t)),r=function(e){return!1!==t.onClose(a)&&function(e,t){return e.classList.remove("basicLightbox--visible"),setTimeout((function(){return!1===s(e)||e.parentElement.removeChild(e),t()}),410),!0}(o,(function(){if("function"==typeof e)return e(a)}))};!0===t.closable&&o.addEventListener("click",(function(e){e.target===o&&r()}));var a={element:function(){return o},visible:function(){return s(o)},show:function(e){return!1!==t.onShow(a)&&function(e,t){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add("basicLightbox--visible"),t()}))}),10),!0}(o,(function(){if("function"==typeof e)return e(a)}))},close:r};return a}},{}]},{},[1])(1);({openModalBtn:document.querySelector(".footer-students-btn")}).openModalBtn.addEventListener("click",(function(e){T.show(),window.addEventListener("keydown",(function e(t){"Escape"===t.code&&(T.close(),window.removeEventListener("keydown",e))}))}));const H=C.map((({name:e,title:t,previewImg:o,svg:n,position:i,gitHub:s})=>`<div class="unit">\n      <div class="wraper-img">\n      <img src="${o}" alt="${e}" title="${t}" class="unit-img" />\n      <a href="${s}"><img src="${n}" alt="${e}" title="${t}" class="unit-svg" />\n      </a>\n      </div>\n    <p class="unit-info name"> ${e}</p>\n    <p class="unit-info role"> ${i}</p>\n</div>`)).join("");const T=D.create(`<div class="modal"> \n${H}\n</div>`);const M=document.getElementById("checkbox");M.addEventListener("change",(function(){!document.body.classList.contains("dark","muvies__title--isDarkTheme")&&M.checked&&document.body.classList.add("dark","muvies__title--isDarkTheme");document.body.classList.contains("dark","muvies__title--isDarkTheme")&&!M.checked&&document.body.classList.remove("dark","muvies__title--isDarkTheme")}));
//# sourceMappingURL=index.6d0b6f1c.js.map
