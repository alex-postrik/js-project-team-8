!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){a[t]=e},e.parcelRequired7c6=r),r("ifwlm");var i=r("8MBJY"),o=r("a2hTj"),s="movies in watched",c="movies in queue",l=[],u=document.querySelector(".pagination");document.addEventListener("DOMContentLoaded",(function(){window.location.pathname.includes("library.html")&&(watchedBtn=document.querySelector('button[data-id="watched-btn"]'),queueBtn=document.querySelector('button[data-id="queue-btn"]'),watchedBtn&&queueBtn&&(watchedBtn.addEventListener("click",(function(){d.resetPage(),g(s),P()})),queueBtn.addEventListener("click",(function(){d.resetPage(),d.resetPage(),g(c),P()})),g(s),P()))}));var g=function(t){try{var e=localStorage.getItem(t);return null===e?void 0:l=JSON.parse(e)}catch(t){console.log(t.message)}};var d=new(function(){"use strict";function e(){t(i)(this,e),this.lastPages=null,this.currentPage=1}return t(o)(e,[{key:"getcurrentPage",value:function(){return this.currentPage}},{key:"getlastPages",value:function(){return this.lastPages}},{key:"incrementPage",value:function(){this.currentPage+=1}},{key:"decrementPage",value:function(){this.currentPage-=1}},{key:"resetPage",value:function(){this.currentPage=1}}]),e}());function p(){var t,e,n,a=20*(d.currentPage-1),r=20+a,i=l.slice(a,r);t=i,e=document.querySelector(".movies__list"),n=t.map((function(t){return'\n      <li class="movies__item" data-movies="'.concat(t.id,'">\n        <div class="movies__thumb">\n        <img class="movies__img" src="').concat(t.posterPath,'" alt="').concat(t.title,'"/>\n        </div>\n        <p class="movies__title">').concat(t.title,'</p>\n        <p class="movies__info">').concat(t.genres," | ").concat(t.releaseDate,"</p>\n      </li>\n    ")})).join(""),e.innerHTML=n,console.log("cut items",i)}function P(){var t="";d.lastPages=Math.ceil(l.length/20),!d.currentPage||d.currentPage>d.lastPages||(d.currentPage>1&&(t+='<li class="pagination__arrow-left arrow-left"><svg class="arrow-left" width="16" height="16" viewBox="0 0 16 16" fill="none"\n        xmlns="http://www.w3.org/2000/svg">\n        <path d="M12.6666 8H3.33331" stroke="black" stroke-width="1.33333" stroke-linecap="round"\n          stroke-linejoin="round" />\n        <path d="M7.99998 12.6666L3.33331 7.99998L7.99998 3.33331" stroke="black" stroke-width="1.33333"\n          stroke-linecap="round" stroke-linejoin="round" />\n      </svg></li>'),d.currentPage>1&&(t+='<li class="pagination__button pagination__button-end">1</li>'),d.currentPage>4&&(t+='<li class="pagination__points">...</li>'),d.currentPage>3&&(t+='<li class="pagination__button">'.concat(d.currentPage-2,"</li>")),d.currentPage>2&&(t+='<li class="pagination__button">'.concat(d.currentPage-1,"</li>")),t+='<li class="pagination__button pagination__button-current">'.concat(d.currentPage,"</li>"),d.currentPage+1<d.lastPages&&(t+='<li class="pagination__button">'.concat(d.currentPage+1,"</li>")),d.currentPage+2<d.lastPages&&(t+='<li class="pagination__button">'.concat(d.currentPage+2,"</li>")),d.currentPage+4<d.lastPages&&(t+='<li class="pagination__points">...</li>'),d.currentPage<d.lastPages&&(t+='<li class="pagination__button pagination__button-end">'.concat(d.lastPages,"</li>")),d.currentPage<d.lastPages&&(t+='<li class="pagination__arrow-right arrow-right scroll-top"><svg class="arrow-right" width="16" height="16" viewBox="0 0 16 16" fill="none"\n        xmlns="http://www.w3.org/2000/svg">\n        <path d="M3.33335 8H12.6667" stroke="black" stroke-width="1.33333" stroke-linecap="round"\n          stroke-linejoin="round" />\n        <path d="M8.00002 12.6666L12.6667 7.99998L8.00002 3.33331" stroke="black" stroke-width="1.33333"\n          stroke-linecap="round" stroke-linejoin="round" />\n      </svg></li>'),u.innerHTML=t)}P(),u.addEventListener("click",(function(t){if(console.log(t.target.textContent),"..."===t.target.textContent)return;t.target.classList.contains("arrow-right")&&d.incrementPage();t.target.classList.contains("arrow-left")&&d.decrementPage();Number(t.target.textContent)&&(d.currentPage=Number(t.target.textContent));p(),P(),console.log("из класса страница текущая",d.currentPage)})),r("83gfZ")}();
//# sourceMappingURL=library.c69ae308.js.map
