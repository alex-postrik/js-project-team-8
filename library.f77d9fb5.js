var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("b3OnY");let r=[];const i=document.querySelector(".pagination");document.addEventListener("DOMContentLoaded",(()=>{window.location.pathname.includes("library.html")&&(watchedBtn=document.querySelector('button[data-id="watched-btn"]'),queueBtn=document.querySelector('button[data-id="queue-btn"]'),watchedBtn&&queueBtn&&(watchedBtn.addEventListener("click",(()=>{s.resetPage(),o("movies in watched"),c()})),queueBtn.addEventListener("click",(()=>{s.resetPage(),s.resetPage(),o("movies in queue"),c()})),o("movies in watched"),c()))}));const o=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:r=JSON.parse(t)}catch(e){console.log(e.message)}};const s=new class{getcurrentPage(){return this.currentPage}getlastPages(){return this.lastPages}incrementPage(){this.currentPage+=1}decrementPage(){this.currentPage-=1}resetPage(){this.currentPage=1}constructor(){this.lastPages=null,this.currentPage=1}};function l(){let e=20*(s.currentPage-1),t=20+e,n=r.slice(e,t);!function(e){const t=document.querySelector(".movies__list"),n=e.map((e=>`\n      <li class="movies__item" data-movies="${e.id}">\n        <div class="movies__thumb">\n        <img class="movies__img" src="${e.posterPath}" alt="${e.title}"/>\n        </div>\n        <p class="movies__title">${e.title}</p>\n        <p class="movies__info">${e.genres} | ${e.releaseDate}</p>\n      </li>\n    `)).join("");t.innerHTML=n}(n),console.log("cut items",n)}function c(){let e="";s.lastPages=Math.ceil(r.length/20),!s.currentPage||s.currentPage>s.lastPages||(s.currentPage>1&&(e+='<li class="pagination__arrow-left arrow-left"><svg class="arrow-left" width="16" height="16" viewBox="0 0 16 16" fill="none"\n        xmlns="http://www.w3.org/2000/svg">\n        <path d="M12.6666 8H3.33331" stroke="black" stroke-width="1.33333" stroke-linecap="round"\n          stroke-linejoin="round" />\n        <path d="M7.99998 12.6666L3.33331 7.99998L7.99998 3.33331" stroke="black" stroke-width="1.33333"\n          stroke-linecap="round" stroke-linejoin="round" />\n      </svg></li>'),s.currentPage>1&&(e+='<li class="pagination__button pagination__button-end">1</li>'),s.currentPage>4&&(e+='<li class="pagination__points">...</li>'),s.currentPage>3&&(e+=`<li class="pagination__button">${s.currentPage-2}</li>`),s.currentPage>2&&(e+=`<li class="pagination__button">${s.currentPage-1}</li>`),e+=`<li class="pagination__button pagination__button-current">${s.currentPage}</li>`,s.currentPage+1<s.lastPages&&(e+=`<li class="pagination__button">${s.currentPage+1}</li>`),s.currentPage+2<s.lastPages&&(e+=`<li class="pagination__button">${s.currentPage+2}</li>`),s.currentPage+4<s.lastPages&&(e+='<li class="pagination__points">...</li>'),s.currentPage<s.lastPages&&(e+=`<li class="pagination__button pagination__button-end">${s.lastPages}</li>`),s.currentPage<s.lastPages&&(e+='<li class="pagination__arrow-right arrow-right scroll-top"><svg class="arrow-right" width="16" height="16" viewBox="0 0 16 16" fill="none"\n        xmlns="http://www.w3.org/2000/svg">\n        <path d="M3.33335 8H12.6667" stroke="black" stroke-width="1.33333" stroke-linecap="round"\n          stroke-linejoin="round" />\n        <path d="M8.00002 12.6666L12.6667 7.99998L8.00002 3.33331" stroke="black" stroke-width="1.33333"\n          stroke-linecap="round" stroke-linejoin="round" />\n      </svg></li>'),i.innerHTML=e)}c(),i.addEventListener("click",(function(e){if(console.log(e.target.textContent),"..."===e.target.textContent)return;e.target.classList.contains("arrow-right")&&s.incrementPage();e.target.classList.contains("arrow-left")&&s.decrementPage();Number(e.target.textContent)&&(s.currentPage=Number(e.target.textContent));l(),c(),console.log("из класса страница текущая",s.currentPage)})),a("3EOxS");
//# sourceMappingURL=library.f77d9fb5.js.map
